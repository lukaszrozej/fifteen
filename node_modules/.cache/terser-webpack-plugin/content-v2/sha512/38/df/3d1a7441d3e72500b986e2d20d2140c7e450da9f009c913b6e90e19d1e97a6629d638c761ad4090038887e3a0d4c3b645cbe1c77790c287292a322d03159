{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(!function(){var e=new Error(\"Cannot find module 'rxjs-compat'\");throw e.code=\"MODULE_NOT_FOUND\",e}()))},function(e,t,r){\"use strict\";r.r(t);var n=r(0),o=r.n(n);const a={x:1,y:0},i={x:-1,y:0},f={x:0,y:-1},c={x:0,y:1},u=e=>{switch(typeof e){case\"object\":return\"direction\";case\"number\":return\"tile\";case\"string\":return\"shuffle\";default:return\"none\"}},l=(e,t)=>{const r=e.indexOf(t);return{x:r%4,y:Math.floor(r/4)}},s=e=>e.x+4*e.y,d=(e,t,r)=>{const n=s(t),o=s(r),a=Math.min(n,o),i=Math.max(n,o);return[...e.slice(0,a),e[i],...e.slice(a+1,i),e[a],...e.slice(i+1)]},y=(e,t)=>{if(\"direction\"===u(t)){const r=l(e,0),n=((e,t)=>({x:e.x-t.x,y:e.y-t.y}))(r,t);if((e=>e.x>=0&&e.x<=3&&e.y>=0&&e.y<=3)(n))return d(e,r,n)}if(\"tile\"===u(t)){const r=l(e,0),n=l(e,t);if(((e,t)=>{return 1===Math.abs(e.x-t.x)+Math.abs(e.y-t.y)})(r,n))return d(e,r,n)}return\"shuffle\"===u(t)?(e=>{const t=[i,a,f,c],r=[];for(;r.length<128;)r.push(t[Math.floor(4*Math.random())]);return r.reduce(y,e)})(e):e},p=document.querySelector(\".board\"),h={32:\"shuffle\",37:i,38:f,39:a,40:c},b=o.a.Observable.fromEvent(document,\"keydown\").filter(e=>[32,37,38,39,40].includes(e.keyCode)).map(e=>h[e.keyCode]),m=o.a.Observable.fromEvent(document,\"click\").filter(e=>e.target.classList.contains(\"clickable\")).map(e=>e.target.classList.contains(\"tile\")?parseInt(e.target.id):\"shuffle\"),x=o.a.Observable.fromEvent(window,\"resize\").map(e=>void 0),v=o.a.Observable.merge(b,m,x).scan(y,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0]),M=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(e=>{const t=document.createElement(\"div\");return t.classList.add(\"tile\",\"clickable\"),t.textContent=e>0?e:\"\",t.id=e,t});M.forEach(e=>p.appendChild(e));const O=e=>{e.forEach((e,t)=>{if(0===e)return;const r=Math.floor(t/4)*Math.floor(.24*p.offsetHeight)+Math.floor(.04*p.offsetHeight),n=t%4*Math.floor(.24*p.offsetWidth)+Math.floor(.04*p.offsetHeight);M[e-1].style.top=`${r}px`,M[e-1].style.left=`${n}px`})};O([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0]),v.forEach(O)}]);","extractedComments":[]}